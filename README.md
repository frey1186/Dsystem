# Dsystem
a system for department.



## 1. 功能设计

普通用户:

- 用户管理
    - 登陆
    - 修改密码
    - 注册  (可选);
    - 修改头像;
    - 修改个性签名

- 日报管理
    - 编写日报
    - 查看自己以往日报
    - 查看自己日报统计信息
    - 整体统计信息概览


领导(管理员):

- 用户管理
    - 创建用户;
    - 重置密码;
    - 删除其他用户;
    - 登陆
    - 修改头像;
    - 修改个性签名

- 日报管理
    - 查看所有人员日报;
    - 填写评语
    - 查看所有人员的日报统计信息;
    - 查看整体统计信息;

- 分类管理
    - 增删改查分类;




## 2. models design

### UserProfile 表
保存用户信息

- 用户名  关联django用户
- 姓名  管理员维护
- 密码 默认password
- 个性签名
- 头像



### Daily 表
保存日报内容

- 日期
- 所属用户: 关联 UserProfile 表
- 日报内容  :很多个字符,
- 标签  : 关联 Categories 表
- 评语 :很多个字符,
- 状态 : 编写;提交;锁定;
    - 写完评语锁定
- 工作时间: 小时为单位,0-24; 默认7.5


### Categories 表
分类,有管理员维护,

- name: 标签名
- 难度: 高;中;低;
- 重要: 高;中;低;
- memo: 备注


```
### 日报统计表

- user   用户
- 月工作量  单位天，由小时来计算

```



## 3. 页面设计

### 3.1 用户管理设计

整体表格：

  序号  |  页面名称    |   url名称      | view函数名   |  成功返回           |     失败返回   | admin   | 是否共用  
  ---- |------------ | ------------  |-----------   | ----------------- | ------------  | ------- | ---
  1    |   登陆页面   |  user_login    | user_login  |   url:index       | user_login.html|  no     |   yes     
  2    |   登出      |  user_logout   | user_logout  |  user_login.html  |               | no  |   yes
  3    |   修改用户   |  user_modfied  | user_modfied |  user_profile.html |              |no  |   no

详细内容：

- user_login页面：
  - 功能：输入用户名和密码，点击“登陆按钮”，登陆，并转到首页。
  - js前端验证用户名和密码输入是否为空
  - 后端验证用户名和密码是否正确

- user_logout页面：
  - 功能：点击“登出”，返回到主页

- 修改用户
  - 功能：修改用户的密码、个性签名和头像


### 3.2 日报管理设计



















## 4. url设计
